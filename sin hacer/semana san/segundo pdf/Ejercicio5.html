<!-- Implementa un programa Javascript que muestre los posts de un foro mediante promesas:
• Listado de posts: https://jsonplaceholder.typicode.com/posts
• Listado de usuarios: https://jsonplaceholder.typicode.com/users/1, siendo 1 el id del usuario
a. Genera dinámicamente el listado de posts. Se mostrará el title y body.
b. Para cada post consulta los datos del usuario que lo ha escrito. Debajo de cada post se
mostrará el nombre y correo del usuario correspondiente.
c. Usa CSS para dar formato.
d. Añade una caja de texto a modo de buscador en la parte superior. Cuando está vacía se
muestran todos los posts. Si el usuario escribe la palabra “aut” se filtrará el listado mos‑
trando aquellos posts que contienen dicha palabra en el campo título. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" id="search-box" placeholder="Buscar posts...">
    <div id="posts-container"></div>

    <script>
        const postsContainer = document.getElementById("posts-container");
        const searchBox = document.getElementById("search-box");
        const fetchPosts = async () => {
            try {
                const postsResponse = await fetch("https://jsonplaceholder.typicode.com/posts");
                const posts = await postsResponse.json();
                const filteredPosts = posts.filter(post => post.title.includes(searchBox.value));
                postsContainer.innerHTML = "";
                for (const post of filteredPosts) {
                    const userResponse = await fetch(`https://jsonplaceholder.typicode.com/users/${post.userId}`);
                    const user = await userResponse.json();
                    const postElement = document.createElement("div");
                    postElement.className = "post";
                    postElement.innerHTML = `
                    <h2>${post.title}</h2>
                    <p>${post.body}</p>
                    <div class="user-info">Escrito por: ${user.name} (${user.email})</div
                    >
                    `;
                    postsContainer.appendChild(postElement);
                }
            } catch (error) {
            console.error("Error fetching posts:", error);
            }
        };
        searchBox.addEventListener("input", fetchPosts);
        fetchPosts();
    </script>
</body>
</html>